name: GitHub Actions Demo
on:
  push:
    # å½“æœ‰ä»£ç æ¨é€æ—¶è§¦å‘å·¥ä½œæµç¨‹

jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
        # è¾“å‡ºå½“å‰å·¥ä½œæµç¨‹çš„è§¦å‘äº‹ä»¶ç±»å‹
      - run: mkdir aaa
        # åˆ›å»ºä¸€ä¸ªåä¸ºaaaçš„æ–‡ä»¶å¤¹
      - run: mkdir bbb
        # åˆ›å»ºä¸€ä¸ªåä¸ºbbbçš„æ–‡ä»¶å¤¹
      - name: Handle Failure
        if: failure()
        run: |
          echo "The previous step failed. Handling failure..."
          # åœ¨è¿™é‡Œæ·»åŠ å¤„ç†ä½œä¸šå¤±è´¥çš„ç‰¹å®šæ­¥éª¤ï¼Œæ¯”å¦‚å‘é€é€šçŸ¥æˆ–è®°å½•é”™è¯¯ä¿¡æ¯
      - name: Rerun workflow on error
        if: failure()
        run: |
          curl -L \
            -X POST \
            -H "Accept: application/vnd.github.v3+json" \
            -H "Authorization: Bearer ${{ secrets.RETRY_JOB }}" \
            https://api.github.com/repos/${{ github.repository }}/actions/runs/${{ github.run_id }}/rerun
          # é‡æ–°è¿è¡Œæ•´ä¸ªå·¥ä½œæµç¨‹

  Failing-Job:
    runs-on: ubuntu-latest
    steps:
      - run: echo "This job intentionally fails."
        # æ•…æ„ä½¿ä½œä¸šå¤±è´¥
        continue-on-error: true
        # è®¾ç½®continue-on-errorä¸ºtrueï¼Œä»¥ä¾¿ä½œä¸šå¤±è´¥æ—¶ä¸ä¼šä¸­æ–­æ•´ä¸ªå·¥ä½œæµç¨‹